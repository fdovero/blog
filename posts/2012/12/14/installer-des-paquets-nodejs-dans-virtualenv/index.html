<!DOCTYPE html>
<html lang="fr">
<head>
        <title>/dev/log</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="initial-scale=1.0, user-scalable=yes" />
        <link rel="stylesheet" href="http://blog.dovero.org/theme/css/main.css" type="text/css" />
        <link href="http://blog.dovero.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="/dev/log Full Atom Feed" />
        <link href="http://blog.dovero.org/feeds/blog.atom.xml" type="application/atom+xml" rel="alternate" title="/dev/log Categories Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
            <h1><a href="http://blog.dovero.org">/dev/log<br><strong>Journal d'un dev</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/">Home</a></li>
            <li><a href="http://blog.dovero.org/pages/about.html">About</a></li>
            <li><a href="http://blog.dovero.org/pages/projects.html">Projects</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="posts/2012/12/14/installer-des-paquets-nodejs-dans-virtualenv/" rel="bookmark"
         title="Permalink to Installer des paquets Node.js dans virtualenv">Installer des paquets Node.js dans&nbsp;virtualenv</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2012-12-14T00:00:00+01:00">
      ven. 14 décembre 2012
    </abbr>
    <address class="vcard author">
      By <a class="url fn" href="http://blog.dovero.org/author/fabien-dovero.html">Fabien Dovero</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>Virtualenv est un outil formidable. Si vous ne l&#8217;utilisez pas encore il faut vous y mettre absoluement !
Pour résumer rapidement c&#8217;est un outil qui sert à créer des environnements de développements python isolés les uns des&nbsp;autres.</p>
<p>Il m&#8217;arrive d&#8217;avoir besoin de modules d&#8217;autres languages que python notemment pour le développement&nbsp;web.</p>
<p>Ce qui m&#8217;interresse aujourd&#8217;hui, c&#8217;est d&#8217;obtenir un environnement virtualisé avec virtualenv et des modules node.js (stylus jade et&nbsp;coffee-script)</p>
<div class="section" id="mise-en-place-de-l-environnement">
<h2>Mise en place de&nbsp;l&#8217;environnement</h2>
<p>Tout d&#8217;abord, il faut mettre en place un environnement virtuel avec virtualenv (j&#8217;utilise personnellement <a class="reference external" href="//www.doughellmann.com/projects/virtualenvwrapper/">virtualenvwrapper</a>)</p>
<div class="highlight"><pre><span class="gp">$</span> mkdir devnode
<span class="gp">$</span> mkvirtualenv devnode
</pre></div>
<p>Et c&#8217;est tout !
Enfin&#8230; pour l&#8217;environnement de developpement seulement. Mais la suite est tout aussi&nbsp;triviale.</p>
</div>
<div class="section" id="configuration-des-hooks">
<h2>Configuration des « hooks&nbsp;»</h2>
<p>virtualenvwrapper propose des fichiers qui seront lus apres l&#8217;installation de l&#8217;environnement (postinstall) et surtout celui qui nous intéresse après l&#8217;activation de l&#8217;environnement (postactivate).
Il nous suffit alors de le modifier afin d&#8217;y inclure certaines directives&nbsp;:</p>
<div class="highlight"><pre><span class="gp">$</span> workon devnode
<span class="gp">$</span> cdvirtualenv bin
</pre></div>
<p>Editez ensuite le fichier postactivate et y ajouter les lignes suivantes&nbsp;:</p>
<div class="highlight"><pre><span class="c"># node.js packages</span>
<span class="nb">export </span><span class="nv">npm_config_prefix</span><span class="o">=</span><span class="nv">$VIRTUAL_ENV</span>
</pre></div>
<p>et dans le fichier predeactivate&nbsp;:</p>
<div class="highlight"><pre><span class="c"># remove node.js config</span>
<span class="nb">export </span><span class="nv">npm_config_prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</pre></div>
<p>Si virtualenv est configuré correctement il vous suffit de lancer les commandes d&#8217;installation des paquets habituelles&nbsp;:</p>
<div class="highlight"><pre><span class="gp">$</span> npm install -g stylus jade coffee-script
</pre></div>
<p>Notez l&#8217;utilisation de l&#8217;option -g (installation&nbsp;globale).</p>
<p>Et voilà. Rien de plus compliqué que ça ! Et ça fonctionne également avec les gem ruby&nbsp;etc&#8230;</p>
<p>Comme ce billet le laisse entrevoir, je parlerai bientôt des préprocesseurs css (stylus) html (jade) et javascript&nbsp;(coffee-script).</p>
</div>

  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
            <div id="bottom-links">
                <a href="//twitter.com/azhagg" target="_blank"><i class="s-icon-twitter"></i></a>
                <a href="//github.com/fdovero" target="_blank"><i class="s-icon-github"></i></a>
                <a href="//flattr.com/thing/1129258/devlog-journal-dun-dev" target="_blank"><i class="s-icon-flattr"></i></a>
                <a href="http://blog.dovero.org/feeds/all.atom.xml" target="_blank"><i class="s-icon-rss"></i></a>
            </div>
            <div id="credits">
               Except where otherwise noted, content on this site is licensed under<a rel="license" href="//creativecommons.org/licenses/by-sa/3.0/deed.en"><i class="s-icon-cc"></i><i class="s-icon-cc-by"></i><i class="s-icon-cc-sa"></i></a>
            </div>
            <address id="about" class="vcard body">
                Proudly powered by <a href="//getpelican.com/">Pelican</a>,
                vautour theme by <a href="//blog.dovero.org">Fabien Dovero</a>
            </address><!-- /#about --> 
        </footer><!-- /#contentinfo -->
</body>
</html>