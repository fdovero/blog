<!DOCTYPE html>
<html lang="fr">
<head>
                <title>/dev/log</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link rel="stylesheet" href="//openfontlibrary.org/face/jura" type="text/css" />
                <link href="http://blog.dovero.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="/dev/log Full Atom Feed" />
                                                <link href="http://blog.dovero.org/feeds/Blog.atom.xml" type="application/atom+xml" rel="alternate" title="/dev/log Categories Atom Feed" />
                                        </head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href=".">/dev/log <strong>Journal d'un dev</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
                    <li><a href="/">Accueil</a></li>
                                      <li><a href="./pages/a-propos.html">À propos</a></li>
                      <li><a href="./pages/travaux.html">Travaux</a></li>
                          </ul></nav><!-- /#menu -->
        <section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="installer-des-paquets-nodejs-dans-virtualenv.html" rel="bookmark"
         title="Permalink to Installer des paquets Node.js dans virtualenv">Installer des paquets Node.js dans virtualenv</a></h2>
  
  </header>
  <footer class="post-info">
    <abbr class="published" title="2012-12-14T00:00:00">
      ven. 14 décembre 2012
    </abbr>
        <address class="vcard author">
      By <a class="url fn" href="./author/fabien-dovero.html">Fabien Dovero</a>
    </address>
      </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>Virtualenv est un outil formidable. Si vous ne l'utilisez pas encore il faut vous y mettre absoluement !
Pour résumer rapidement c'est un outil qui sert à créer des environnements de développements python isolés les uns des autres.</p>
<p>Il m'arrive d'avoir besoin de modules d'autres languages que python notemment pour le développement web.</p>
<p>Ce qui m'interresse aujourd'hui, c'est d'obtenir un environnement virtualisé avec virtualenv et des modules node.js (stylus jade et coffee-script)</p>
<div class="section" id="mise-en-place-de-l-environnement">
<h2>Mise en place de l'environnement</h2>
<p>Tout d'abord, il faut mettre en place un environnement virtuel avec virtualenv (j'utilise personnellement <a class="reference external" href="//www.doughellmann.com/projects/virtualenvwrapper/">virtualenvwrapper</a>)</p>
<div class="highlight"><pre><span class="gp">$</span> mkdir devnode
<span class="gp">$</span> mkvirtualenv devnode
</pre></div>
<p>Et c'est tout !
Enfin... pour l'environnement de developpement seulement. Mais la suite est tout aussi triviale.</p>
</div>
<div class="section" id="configuration-des-hooks">
<h2>Configuration des «&nbsp;hooks&nbsp;»</h2>
<p>virtualenvwrapper propose des fichiers qui seront lus apres l'installation de l'environnement (postinstall) et surtout celui qui nous intéresse après l'activation de l'environnement (postactivate).
Il nous suffit alors de le modifier afin d'y inclure certaines directives :</p>
<div class="highlight"><pre><span class="gp">$</span> workon devnode
<span class="gp">$</span> cdvirtualenv bin
</pre></div>
<p>Editez ensuite le fichier postactivate et y ajouter les lignes suivantes :</p>
<div class="highlight"><pre><span class="c"># node.js packages</span>
<span class="nb">export </span><span class="nv">npm_config_prefix</span><span class="o">=</span><span class="nv">$VIRTUAL_ENV</span>
</pre></div>
<p>et dans le fichier predeactivate :</p>
<div class="highlight"><pre><span class="c"># remove node.js config</span>
<span class="nb">export </span><span class="nv">npm_config_prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</pre></div>
<p>Si virtualenv est configuré correctement il vous suffit de lancer les commandes d'installation des paquets habituelles :</p>
<div class="highlight"><pre><span class="gp">$</span> npm install -g stylus jade coffee-script
</pre></div>
<p>Notez l'utilisation de l'option -g (installation globale).</p>
<p>Et voilà. Rien de plus compliqué que ça ! Et ça fonctionne également avec les gem ruby etc...</p>
<p>Comme ce billet le laisse entrevoir, je parlerai bientôt des préprocesseurs css (stylus) html (jade) et javascript (coffee-script).</p>
</div>

  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
            <div class="social-links">
                            <a href="//twitter.com/azhagg"><i class="icon-twitter"></i></a>
                            <a href="//github.com/fdovero"><i class="icon-github"></i></a>
             
            </div>
            <address id="about" class="vcard body">
                Proudly powered by <a href="//getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="//python.org">Python</a>.
            </address><!-- /#about --> 
            <div id="credits">
                Theme by <a href="//blog.dovero.org">Fabien Dovero</a>, Entypo pictograms by <a href="//www.entypo.com">Daniel Bruce</a>
            </div>
        </footer><!-- /#contentinfo -->
</body>
</html>